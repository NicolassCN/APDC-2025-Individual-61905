<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management System</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f5f5f5;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        overflow-x: auto;
      }
      h1 {
        color: #333;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
      }
      h2 {
        color: #555;
        margin-top: 20px;
      }
      .section {
        margin-bottom: 30px;
        padding: 15px;
        background-color: #f9f9f9;
        border-radius: 5px;
      }
      .endpoint {
        margin-bottom: 15px;
        padding: 10px;
        background-color: #e9e9e9;
        border-radius: 3px;
      }
      .method {
        display: inline-block;
        padding: 3px 8px;
        background-color: #4CAF50;
        color: white;
        border-radius: 3px;
        font-weight: bold;
        margin-right: 10px;
      }
      .url {
        font-family: monospace;
        color: #333;
      }
      .description {
        margin-top: 10px;
        color: #666;
      }
      .credentials {
        background-color: #fff3cd;
        padding: 10px;
        border-radius: 3px;
        margin-top: 10px;
      }
      footer {
        margin-top: 30px;
        text-align: center;
        color: #777;
        font-size: 0.9em;
      }
      .form-group {
        margin-bottom: 15px;
      }
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }
      .form-group input, .form-group select {
        width: 100%;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-sizing: border-box;
      }
      .optional-fields {
        margin-top: 20px;
        padding: 15px;
        background-color: #f0f0f0;
        border-radius: 5px;
      }
      .optional-fields h3 {
        margin-top: 0;
        color: #555;
      }
      .toggle-optional {
        margin-top: 10px;
        color: #0066cc;
        cursor: pointer;
        text-decoration: underline;
      }
      .message {
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 4px;
      }
      .message.error {
        background-color: #ffebee;
        color: #c62828;
        border: 1px solid #ef9a9a;
      }
      .message.success {
        background-color: #e8f5e9;
        color: #2e7d32;
        border: 1px solid #a5d6a7;
      }
      .user-list {
        margin-top: 15px;
        overflow-x: auto;
      }
      .user-item {
        padding: 10px;
        border-bottom: 1px solid #ddd;
      }
      .user-item:last-child {
        border-bottom: none;
      }
      button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
      }
      button:hover {
        background-color: #45a049;
      }
      a {
        color: #0066cc;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      
      /* User Management Styles */
      .user-management-forms {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
      }
      
      .management-form {
        flex: 1;
        min-width: 300px;
        background-color: #f0f0f0;
        padding: 15px;
        border-radius: 5px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      }
      
      .management-form h3 {
        margin-top: 0;
        color: #333;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
      }
      
      .user-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
      }
      
      .user-table th, .user-table td {
        padding: 10px;
        text-align: left;
        border-bottom: 1px solid #ddd;
        word-break: break-word;
      }
      
      .user-table th {
        background-color: #f2f2f2;
        font-weight: bold;
      }
      
      .user-table tr:hover {
        background-color: #f5f5f5;
      }
      
      .action-buttons {
        display: flex;
        gap: 5px;
        flex-wrap: wrap;
      }
      
      .action-button {
        padding: 5px 10px;
        font-size: 14px;
      }
      
      .action-button.change-role {
        background-color: #2196F3;
      }
      
      .action-button.change-state {
        background-color: #FF9800;
      }
      
      .action-button.remove {
        background-color: #F44336;
      }
      
      /* Responsive adjustments */
      @media (max-width: 768px) {
        .user-management-forms {
          flex-direction: column;
        }
        
        .management-form {
          width: 100%;
        }
        
        .action-buttons {
          flex-direction: column;
        }
        
        .action-button {
          width: 100%;
          margin-bottom: 5px;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>ADC: User Management System</h1>
      
      <div id="message" class="message"></div>
      
      <!-- Login Section -->
      <section id="login-section" class="section">
        <h2>Login</h2>
        <form id="login-form">
          <div class="form-group">
            <label for="login-username">Username:</label>
            <input type="text" id="login-username" name="username" required>
          </div>
          <div class="form-group">
            <label for="login-password">Password:</label>
            <input type="password" id="login-password" name="password" required>
          </div>
          <button type="submit">Login</button>
          <p>Don't have an account? <a href="#" id="show-register">Register here</a></p>
        </form>
      </section>
      
      <!-- Register Section -->
      <section id="register-section" class="section" style="display: none;">
        <h2>Register</h2>
        <form id="register-form">
          <!-- Campos obrigatórios -->
          <div class="form-group">
            <label for="register-email">Email: <span class="required">*</span></label>
            <input type="email" id="register-email" name="email" required>
            <small>Formato: usuario@dominio.tld</small>
          </div>
          <div class="form-group">
            <label for="register-username">Username: <span class="required">*</span></label>
            <input type="text" id="register-username" name="username" required>
          </div>
          <div class="form-group">
            <label for="register-fullname">Full Name: <span class="required">*</span></label>
            <input type="text" id="register-fullname" name="fullName" required>
          </div>
          <div class="form-group">
            <label for="register-phone">Phone: <span class="required">*</span></label>
            <input type="tel" id="register-phone" name="phone" required>
            <small>Formato: +3512895629</small>
          </div>
          <div class="form-group">
            <label for="register-password">Password: <span class="required">*</span></label>
            <input type="password" id="register-password" name="password" required>
            <small>Mínimo 8 caracteres, incluindo maiúsculas, minúsculas, números e caracteres especiais</small>
          </div>
          <div class="form-group">
            <label for="register-confirm-password">Confirm Password: <span class="required">*</span></label>
            <input type="password" id="register-confirm-password" name="confirmPassword" required>
          </div>
          <div class="form-group">
            <label for="register-profile">Profile: <span class="required">*</span></label>
            <select id="register-profile" name="profile" required>
              <option value="">Select a profile</option>
              <option value="PRIVATE">Private</option>
              <option value="PUBLIC">Public</option>
            </select>
          </div>
          
          <!-- Campos opcionais -->
          <div class="optional-fields hidden" id="optionalFields">
            <h3>Campos Opcionais</h3>
            <div class="form-group">
              <label for="register-citizen-card">Citizen Card Number:</label>
              <input type="text" id="register-citizen-card" name="citizenCardNumber">
            </div>
            <div class="form-group">
              <label for="register-nif">NIF:</label>
              <input type="text" id="register-nif" name="nif">
              <small>9 dígitos</small>
            </div>
            <div class="form-group">
              <label for="register-employer">Employer:</label>
              <input type="text" id="register-employer" name="employer">
            </div>
            <div class="form-group">
              <label for="register-job-title">Job Title:</label>
              <input type="text" id="register-job-title" name="jobTitle">
            </div>
            <div class="form-group">
              <label for="register-address">Address:</label>
              <input type="text" id="register-address" name="address">
            </div>
            <div class="form-group">
              <label for="register-employer-nif">Employer NIF:</label>
              <input type="text" id="register-employer-nif" name="employerNif">
              <small>9 dígitos</small>
            </div>
            <div class="form-group">
              <label for="register-photo">Photo URL:</label>
              <input type="text" id="register-photo" name="photoUrl">
              <small>Apenas arquivos JPG</small>
            </div>
          </div>
          
          <a href="#" id="optionalFieldsToggle" class="toggle-optional">Mostrar campos opcionais</a>
          
          <button type="submit">Register</button>
          <p>Already have an account? <a href="#" id="show-login">Login here</a></p>
        </form>
      </section>
      
      <!-- User Section -->
      <section id="user-section" class="section" style="display: none;">
        <h2>Welcome, <span id="user-name"></span>!</h2>
        <button id="logoutButton">Logout</button>
      </section>
      
      <!-- Admin Section -->
      <section id="admin-section" class="section" style="display: none;">
        <h2>User Management</h2>
        <div id="user-list"></div>
        
        <!-- User Management Forms -->
        <div class="user-management-forms">
          <!-- Change Role Form -->
          <div class="management-form">
            <h3>Change User Role</h3>
            <form id="change-role-form">
              <div class="form-group">
                <label for="change-role-username">Username:</label>
                <input type="text" id="change-role-username" name="username" required>
              </div>
              <div class="form-group">
                <label for="change-role-new-role">New Role:</label>
                <select id="change-role-new-role" name="newRole" required>
                  <option value="">Select a role</option>
                  <option value="ENDUSER">ENDUSER</option>
                  <option value="PARTNER">PARTNER</option>
                  <option value="BACKOFFICE">BACKOFFICE</option>
                  <option value="ADMIN">ADMIN</option>
                </select>
              </div>
              <button type="submit">Change Role</button>
            </form>
          </div>
          
          <!-- Change Account State Form -->
          <div class="management-form">
            <h3>Change Account State</h3>
            <form id="change-state-form">
              <div class="form-group">
                <label for="change-state-username">Username:</label>
                <input type="text" id="change-state-username" name="username" required>
              </div>
              <div class="form-group">
                <label for="change-state-new-state">New State:</label>
                <select id="change-state-new-state" name="newState" required>
                  <option value="">Select a state</option>
                  <option value="ACTIVATED">ACTIVATED</option>
                  <option value="DEACTIVATED">DEACTIVATED</option>
                </select>
              </div>
              <button type="submit">Change State</button>
            </form>
          </div>
          
          <!-- Remove User Form -->
          <div class="management-form">
            <h3>Remove User Account</h3>
            <form id="remove-user-form">
              <div class="form-group">
                <label for="remove-user-username">Username:</label>
                <input type="text" id="remove-user-username" name="username" required>
              </div>
              <button type="submit">Remove User</button>
            </form>
          </div>
        </div>
      </section>
    </div>
    
    <script src="js/app.js"></script>
  </body>
</html>
